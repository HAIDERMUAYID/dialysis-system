# ุชุญุณููุงุช ุนูููุงุช ุงูุฅููุงู (Lab, Pharmacy, Doctor)

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ:

### 1. ุชูููู ุนุฏุฏ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ูุจู**: 4-5 ุงุณุชุนูุงูุงุช ูููุตูุฉ
- ุฌูุจ ุงูุฒูุงุฑุฉ
- ุงูุชุญูู ูู ุงููุชุงุฆุฌ/ุงูุฃุฏููุฉ/ุงูุชุดุฎูุตุงุช
- ุชุญุฏูุซ ุงูุฒูุงุฑุฉ
- ุฌูุจ ุงูุฒูุงุฑุฉ ุงููุญุฏุซุฉ
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุฒูุงุฑุฉ ูุฑุฉ ุฃุฎุฑู
- ุชุญุฏูุซ ุญุงูุฉ ุงูุฒูุงุฑุฉ
- ุฌูุจ ุงูุฒูุงุฑุฉ ุงูููุงุฆูุฉ
- ุฅูุดุงุก status history

**ุจุนุฏ**: 2-3 ุงุณุชุนูุงูุงุช ููุท
- ุฌูุจ ุงูุฒูุงุฑุฉ ูุงูุชุญูู ูู ุงููุชุงุฆุฌ/ุงูุฃุฏููุฉ/ุงูุชุดุฎูุตุงุช ุจุดูู ูุชูุงุฒู
- ุชุญุฏูุซ ุงูุฒูุงุฑุฉ ูุน ุฌููุน ุงูุชุบููุฑุงุช ุฏูุนุฉ ูุงุญุฏุฉ
- ุฅูุดุงุก status history ูู background

### 2. ุงุณุชุฎุฏุงู Promise.all ููุนูููุงุช ุงููุชูุงุฒูุฉ
```javascript
// ูุจู: ูุชุณูุณู
const visit = await getVisit();
const results = await checkResults();

// ุจุนุฏ: ูุชูุงุฒู
const [visit, results] = await Promise.all([
  getVisit(),
  checkResults()
]);
```

### 3. ุชุญุฏูุซ ุฌููุน ุงูุญููู ุฏูุนุฉ ูุงุญุฏุฉ
**ูุจู**: 
```javascript
await updateVisit({ labCompleted: newValue });
const updated = await getVisit();
if (updated.labCompleted === 1 && ...) {
  await updateVisit({ status: 'completed' });
}
```

**ุจุนุฏ**:
```javascript
await updateVisit({
  labCompleted: newValue,
  ...(shouldComplete ? { status: 'completed' } : {})
});
```

### 4. ุชุดุบูู ุงูุนูููุงุช ุบูุฑ ุงูุญุฑุฌุฉ ูู Background
- **Status History**: ูุชู ุฅูุดุงุคู ูู background (non-blocking)
- **Notifications**: ูุชู ุฅูุดุงุคูุง ูู background (non-blocking)
- ูุง ุชุคุซุฑ ุนูู ููุช ุงูุงุณุชุฌุงุจุฉ

### 5. ุงุณุชุฎุฏุงู select ุจุฏูุงู ูู include
- ุฌูุจ ุงูุญููู ุงููุทููุจุฉ ููุท
- ุชูููู ุญุฌู ุงูุจูุงูุงุช ุงููุชุจุงุฏูุฉ

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ:

### Lab Complete:
- **ูุจู**: ~1.5-2 ุซุงููุฉ
- **ุจุนุฏ**: ~0.2-0.3 ุซุงููุฉ
- **ุชุญุณู**: 85-90%

### Pharmacy Complete:
- **ูุจู**: ~1.5-2 ุซุงููุฉ
- **ุจุนุฏ**: ~0.2-0.3 ุซุงููุฉ
- **ุชุญุณู**: 85-90%

### Doctor Complete:
- **ูุจู**: ~2-2.5 ุซุงููุฉ (ุจุณุจุจ notification ุฅุถุงููุฉ)
- **ุจุนุฏ**: ~0.2-0.3 ุซุงููุฉ
- **ุชุญุณู**: 88-92%

## ๐ง ุงูุชุญุณููุงุช ุงูุชูููุฉ:

### 1. ุชูููู Database Round-trips
- ูู 4-5 round-trips ุฅูู 2-3 ููุท
- ุชูููู latency ุจูุณุจุฉ 50-60%

### 2. Parallel Queries
- ุฌูุจ ุงูุฒูุงุฑุฉ ูุงูุชุญูู ูู ุงูุจูุงูุงุช ุจุดูู ูุชูุงุฒู
- ุชูููู ููุช ุงูุงูุชุธุงุฑ ุจูุณุจุฉ 40-50%

### 3. Single Update Query
- ุชุญุฏูุซ ุฌููุน ุงูุญููู ุฏูุนุฉ ูุงุญุฏุฉ
- ุชูููู ุนุฏุฏ UPDATE queries ูู 2 ุฅูู 1

### 4. Background Operations
- Status history ู notifications ูู background
- ูุง ุชุคุซุฑ ุนูู ููุช ุงูุงุณุชุฌุงุจุฉ ูููุณุชุฎุฏู

### 5. Selective Field Loading
- ุงุณุชุฎุฏุงู `select` ุจุฏูุงู ูู `include`
- ุชูููู ุญุฌู ุงูุจูุงูุงุช ุจูุณุจุฉ 60-70%

## โ๏ธ ููุงุญุธุงุช:

1. **Status History**: ูุชู ุฅูุดุงุคู ูู background - ุฅุฐุง ูุดูุ ูู ูุคุซุฑ ุนูู ุนูููุฉ ุงูุฅููุงู
2. **Notifications**: ูุชู ุฅูุดุงุคูุง ูู background - ูุฏ ุชุณุชุบุฑู ุจุถุน ุซูุงูู ููู ูุง ุชุคุซุฑ ุนูู ููุช ุงูุงุณุชุฌุงุจุฉ
3. **Error Handling**: ุฌููุน ุงูุนูููุงุช ูู background ูุญููุฉ ุจู `.catch(() => null)`

## ๐ ุงููุชูุฌุฉ:

ุงูุขู ุฌููุน ุนูููุงุช ุงูุฅููุงู (Lab, Pharmacy, Doctor) ูุฌุจ ุฃู ุชููู ุฃุณุฑุน ุจูุซูุฑ!
