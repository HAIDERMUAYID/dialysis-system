# ููุฎุต ุงูุชุญุณููุงุช ุงูุดุงููุฉ - ูุธุงู ุฅุฏุงุฑุฉ ูุณุชุดูู ุงูุญููู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุญููู ุงููุธุงู ูู ูุธุงู ุจุณูุท ุฅูู **ูุธุงู ุฅุฏุงุฑุฉ ูุชูุงูู ุนูู ูุณุชูู ุนุงููู** ูุน ููุฒุงุช ูุชูุฏูุฉ ูุดุงููุฉ.

---

## โ ุงูุชุญุณููุงุช ุงูููุฌุฒุฉ

### 1. ูุธุงู ุงูุตูุงุญูุงุช ุงููุชูุฏู (RBAC - Role-Based Access Control)

#### โจ ุงูููุฒุงุช:
- **ุฃุฏูุงุฑ ูุฎุตุตุฉ**: ูููู ูููุฏูุฑ ุฅูุดุงุก ุฃุฏูุงุฑ ูุฎุตุตุฉ ุจุตูุงุญูุงุช ูุญุฏุฏุฉ
- **ุตูุงุญูุงุช ุชูุตูููุฉ**: 40+ ุตูุงุญูุฉ ููุณูุฉ ุญุณุจ ุงููุฆุงุช:
  - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (view, create, edit, delete, manage_permissions)
  - ุฅุฏุงุฑุฉ ุงููุฑุถู (view, create, edit, delete)
  - ุฅุฏุงุฑุฉ ุงูุฒูุงุฑุงุช (view, create, edit, complete, close)
  - ุฅุฏุงุฑุฉ ุงูุชุญุงููู (view, create, edit, delete, complete)
  - ุฅุฏุงุฑุฉ ุงูุตูุฏููุฉ (view, create, edit, delete, dispense)
  - ุฅุฏุงุฑุฉ ุงูุทุจูุจ (view, create, edit, delete, complete)
  - ุงูุชูุงุฑูุฑ (view, export, advanced)
  - ุฅุนุฏุงุฏุงุช ุงููุธุงู (settings, audit_log, backup)
  - ุงูุฅุดุนุงุฑุงุช (send, manage)

#### ๐ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ:
- `roles` - ุงูุฃุฏูุงุฑ (ูุธุงููุฉ ููุฎุตุตุฉ)
- `permissions` - ุงูุตูุงุญูุงุช ุงูุชูุตูููุฉ
- `role_permissions` - ุฑุจุท ุงูุฃุฏูุงุฑ ุจุงูุตูุงุญูุงุช (many-to-many)
- `user_sessions` - ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
- `audit_log` - ุณุฌู ุชุฏููู ุดุงูู (ูุญุณูู)

### 2. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงููุชูุฏูุฉ

#### ๐ง API Endpoints ุงูุฌุฏูุฏุฉ (`/api/users`):
- `GET /api/users` - ูุงุฆูุฉ ุฌููุน ุงููุณุชุฎุฏููู ูุน ุชูุงุตูู ุดุงููุฉ
- `GET /api/users/:id` - ุชูุงุตูู ูุณุชุฎุฏู ูุน ุตูุงุญูุงุชู
- `POST /api/users` - ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- `PUT /api/users/:id` - ุชุญุฏูุซ ูุณุชุฎุฏู (ูุงูู)
- `DELETE /api/users/:id` - ุญุฐู ูุณุชุฎุฏู (ูุน ุญูุงูุฉ)
- `GET /api/users/roles/list` - ูุงุฆูุฉ ุฌููุน ุงูุฃุฏูุงุฑ
- `GET /api/users/roles/:id` - ุชูุงุตูู ุฏูุฑ ูุน ุตูุงุญูุงุชู
- `GET /api/users/permissions/list` - ูุงุฆูุฉ ุฌููุน ุงูุตูุงุญูุงุช
- `PUT /api/users/roles/:id/permissions` - ุชุญุฏูุซ ุตูุงุญูุงุช ุฏูุฑ
- `POST /api/users/roles` - ุฅูุดุงุก ุฏูุฑ ูุฎุตุต ุฌุฏูุฏ

#### ๐ก๏ธ ุงูุญูุงูุฉ ูุงูุฃูุงู:
- ุญูุงูุฉ ูู ุญุฐู ุงููุณุชุฎุฏู ุงูุญุงูู
- ุญูุงูุฉ ูู ุญุฐู ูุณุชุฎุฏูู ุงูุฅุฏุงุฑุฉ
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ูู audit_log
- ุชุณุฌูู IP address ู user agent
- ุชุณุฌูู ุงูููู ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ ููุชุบููุฑุงุช

### 3. Dashboard ูุญุณูู ูุน ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ

#### ๐ ุงูุฅุญุตุงุฆูุงุช ุงูุฌุฏูุฏุฉ:
- **ุฅุฌูุงูู ุงููุฑุถู** - ุงูุนุฏุฏ ุงูููู
- **ุฅุฌูุงูู ุงูุฒูุงุฑุงุช** - ุงูุนุฏุฏ ุงูููู
- **ุฒูุงุฑุงุช ุงูููู** - ุฒูุงุฑุงุช ุงูููู ููุท
- **ุฒูุงุฑุงุช ุงูุฃุณุจูุน** - ุฒูุงุฑุงุช ุขุฎุฑ 7 ุฃูุงู โจ ุฌุฏูุฏ
- **ุฒูุงุฑุงุช ุงูุดูุฑ** - ุฒูุงุฑุงุช ุงูุดูุฑ ุงูุญุงูู โจ ุฌุฏูุฏ
- **ุงููุณุชุฎุฏููู ุงููุดุทูู** - ุงููุณุชุฎุฏููู ุงููุณุฌู ุฏุฎูููู ูู ุขุฎุฑ 24 ุณุงุนุฉ โจ ุฌุฏูุฏ
- **ุฅุฌูุงูู ุงูุชุญุงููู** - ุนุฏุฏ ุงูุชุญุงููู ุงูููุฌุฒุฉ โจ ุฌุฏูุฏ
- **ุฅุฌูุงูู ุงููุตูุงุช** - ุนุฏุฏ ุงููุตูุงุช ุงููุตุฑููุฉ โจ ุฌุฏูุฏ
- **ุฅุฌูุงูู ุงูุชุดุฎูุตุงุช** - ุนุฏุฏ ุงูุชุดุฎูุตุงุช โจ ุฌุฏูุฏ
- **ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ** - ููุชูุจูู โจ ุฌุฏูุฏ
- **ุงุชุฌุงูุงุช ุงูุฒูุงุฑุงุช** - ุขุฎุฑ 7 ุฃูุงู ูุน ุจูุงูุงุช ููููุฉ โจ ุฌุฏูุฏ
- **ุฃุฏุงุก ุงูุฃูุณุงู** - ุฅุญุตุงุฆูุงุช ููู ูุณู (lab, pharmacy, doctor) โจ ุฌุฏูุฏ

#### ๐ ุงูุจูุงูุงุช ุงูุฅุถุงููุฉ:
```json
{
  "visit_trends": [
    { "date": "2024-01-15", "count": 12 },
    { "date": "2024-01-16", "count": 18 }
  ],
  "department_performance": {
    "lab": { "completed": 150, "pending": 5, "avg_time": 0 },
    "pharmacy": { "completed": 140, "pending": 10, "avg_time": 0 },
    "doctor": { "completed": 130, "pending": 15, "avg_time": 0 }
  }
}
```

### 4. ุชุญุณููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ๐๏ธ ุงูุฌุฏุงูู ุงููุญุณููุฉ:
- **users** - ูุญุณูู ูุน:
  - `role_id` - ุฑุจุท ุจุงูุฃุฏูุงุฑ ุงูุฌุฏูุฏุฉ
  - `email` - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - `phone` - ุฑูู ุงููุงุชู
  - `is_active` - ุญุงูุฉ ุงููุดุงุท
  - `last_login` - ุขุฎุฑ ุชุณุฌูู ุฏุฎูู
  - `created_by` - ูู ุฃูุดุฃ ุงููุณุชุฎุฏู

- **activity_log** - ูุญุณูู ูุน:
  - `ip_address` - ุนููุงู IP

- **audit_log** - ุฌุฏูุฏ ููุญุณูู ูุน:
  - `old_values` - ุงูููู ุงููุฏููุฉ (JSON)
  - `new_values` - ุงูููู ุงูุฌุฏูุฏุฉ (JSON)
  - `ip_address` - ุนููุงู IP
  - `user_agent` - ูุนูููุงุช ุงููุชุตูุญ

### 5. ุชุญุณููุงุช Frontend

#### ๐ฆ ุงูููุชุจุงุช ุงููุถุงูุฉ:
- **antd** (v5.11.5) - ููุชุจุฉ UI ุงุญุชุฑุงููุฉ ุดุงููุฉ
- **@ant-design/icons** (v5.2.6) - ุฃููููุงุช ุงุญุชุฑุงููุฉ
- **recharts** (v2.10.3) - ุฑุณูู ุจูุงููุฉ ูุชูุฏูุฉ
- **chart.js** (v4.4.0) - ุฑุณูู ุจูุงููุฉ
- **react-chartjs-2** (v5.2.0) - ุฑุจุท Chart.js ูุน React
- **dayjs** (v1.11.10) - ูุนุงูุฌุฉ ุงูุชูุงุฑูุฎ (ุฃุฎู ูู moment.js)
- **xlsx** (v0.18.5) - ุชุตุฏูุฑ Excel

#### ๐จ ุงูุฅุนุฏุงุฏุงุช:
- **Ant Design Config Provider** - ุฅุนุฏุงุฏุงุช RTL ูุงููุฉ
- **Locale Arabic** - ุฏุนู ูุงูู ููุนุฑุจูุฉ
- **Theme Customization** - ุชุฎุตูุต ุงูุฃููุงู ูุงูุฎุทูุท
- **Cairo Font** - ุฎุท ุนุฑุจู ุงุญุชุฑุงูู

#### ๐ ุงูุฃููุงุน ุงูุฌุฏูุฏุฉ (TypeScript):
- `Role` - ูุงุฌูุฉ ุงูุฏูุฑ
- `Permission` - ูุงุฌูุฉ ุงูุตูุงุญูุฉ
- `UserEnhanced` - ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุณููุฉ
- `AuditLog` - ูุงุฌูุฉ ุณุฌู ุงูุชุฏููู
- `Stats` - ุฅุญุตุงุฆูุงุช ูุญุณููุฉ

### 6. Activity Logger ูุญุณูู

#### ๐ ุงูููุฒุงุช:
- ุชุณุฌูู ุชููุงุฆู ูู `activity_log` ู `audit_log`
- ุชุณุฌูู ุงูููู ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ
- ุชุณุฌูู IP ู User Agent
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
- Middleware factory ููุงุณุชุฎุฏุงู ุงูุณูู

---

## ๐ ุงูููุฒุงุช ุงููุงุฏูุฉ (ููุฏ ุงูุชุทููุฑ)

### 1. ูุงุฌูุงุช UI ุญุฏูุซุฉ ุจุงุณุชุฎุฏุงู Ant Design
- [ ] Dashboard Admin ูุญุณูู ูุน Charts
- [ ] ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงููุชูุฏูุฉ
- [ ] ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- [ ] Timeline ุชูุงุนูู ูุชุงุฑูุฎ ุงููุฑูุถ
- [ ] Tables ูุชูุฏูุฉ ูุน Sorting, Filtering, Pagination
- [ ] Forms ูุญุณููุฉ ูุน Validation

### 2. Charts ู Visualizations
- [ ] Charts ููุฒูุงุฑุงุช (Line, Bar, Pie)
- [ ] Charts ูุฃุฏุงุก ุงูุฃูุณุงู
- [ ] Dashboard Analytics ูุน Real-time updates
- [ ] Export Charts ูู PDF/PNG

### 3. ููุฒุงุช ูุชูุฏูุฉ
- [ ] ุจุญุซ ูุชูุฏู ูุน Filters ูุนูุฏุฉ
- [ ] Export Excel/PDF ูุชูุฏู
- [ ] Templates ููุชุญุงููู ูุงููุตูุงุช
- [ ] Dark Mode
- [ ] Real-time Notifications (WebSockets)
- [ ] Advanced Reports Generator

---

## ๐ ุฎุทูุงุช ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงูููุชุจุงุช ุงูุฌุฏูุฏุฉ

```bash
cd client
npm install
```

ูุฐุง ุณููุซุจุช ุชููุงุฆูุงู:
- antd
- @ant-design/icons
- recharts
- chart.js
- react-chartjs-2
- dayjs
- xlsx

### 2. ุฅุนุงุฏุฉ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุงุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
rm -f database.sqlite

# ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู (ุณูููุดุฆ ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ ูุน ุฌููุน ุงูุฌุฏุงูู)
npm run server
```

### 3. ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

- โ ุชุฃูุฏ ูู ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู ุงูุฌุฏูุฏุฉ
- โ ุชุฃูุฏ ูู ุฅูุดุงุก ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช ุงูุงูุชุฑุงุถูุฉ
- โ ุชุฃูุฏ ูู ุฅูุดุงุก ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู

---

## ๐ ุงูุญุณุงุจุงุช ุงูุงูุชุฑุงุถูุฉ

| ุงูุฏูุฑ | ุงุณู ุงููุณุชุฎุฏู | ูููุฉ ุงููุฑูุฑ |
|------|-------------|------------|
| ูุฏูุฑ ุงููุธุงู | `admin` | `admin123` |
| ููุธู ุงูุงุณุชุนูุงูุงุช | `inquiry` | `inquiry123` |
| ููุธู ุงูุชุญูููุงุช | `lab` | `lab123` |
| ุงูุตูุฏูู | `pharmacist` | `pharmacist123` |
| ุงูุทุจูุจ | `doctor` | `doctor123` |

---

## ๐ ุงููุซุงุฆู ุงูุฅุถุงููุฉ

- [FEATURES.md](./FEATURES.md) - ุงูููุฒุงุช ุงููุถุงูุฉ ุณุงุจูุงู
- [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) - ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ
- [README.md](./README.md) - ุฏููู ุงููุดุฑูุน ุงูุฑุฆูุณู

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุญููู ุงููุธุงู ุฅูู **ูุธุงู ุฅุฏุงุฑุฉ ุทุจู ูุชูุงูู ุนูู ูุณุชูู ุนุงููู** ูุน:
- โ ูุธุงู ุตูุงุญูุงุช ูุชูุฏู (RBAC)
- โ ุฅุฏุงุฑุฉ ูุณุชุฎุฏููู ุดุงููุฉ
- โ Dashboard ูุญุณูู ูุน ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ
- โ ูุงุนุฏุฉ ุจูุงูุงุช ูุญุณููุฉ ูุน audit trail
- โ Frontend ุฌุงูุฒ ูุงุณุชุฎุฏุงู Ant Design
- โ ุฃููุงุน TypeScript ูุญุฏุซุฉ

**ุงูุฎุทูุฉ ุงูุชุงููุฉ**: ุชุทููุฑ ูุงุฌูุงุช UI ุงูุญุฏูุซุฉ ุจุงุณุชุฎุฏุงู Ant Design ูุงูุฑุณูู ุงูุจูุงููุฉ!

---

*ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: Auto (Cursor AI)*
*ุงูุชุงุฑูุฎ: 2024*
